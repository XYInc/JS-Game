<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width initial-scale=1">
        <meta name="author" content="Euab">
        <title>Le Game</title>
        <style>
			*{padding: 0; margin: 0;}
			canvas {background: #eee; display: block; margin: 0 auto;}
		</style>
    </head>

    <body>
        <canvas id="lecanvas" width="800" height="600"></canvas>

        <script>
        	const canvas = document.getElementById("lecanvas");
        	var ctx = canvas.getContext("2d");
        	var xGround = 0;
        	var yGround = 550;
        	var initXPlayer = 400;
        	var initYPlayer = 500;
        	var wPressed = false;
        	var aPressed = false;
        	var sPressed = false;
        	var dPressed = false;
        	document.addEventListener("keydown", keyDownHandler, false);
        	document.addEventListener("keyup", keyUpHandler, false);
        	function keyDownHandler(e){
        		if(e.keycode == 87){
        			wPressed = true;
        		}
        		if(e.keycode == 65){
        			aPressed = true;
        		}
        		if(e.keycode == 83){
        			sPressed = true;
        		}
        		if(e.keycode == 68){
        			dPressed = true;
        		}
        	}
        	function keyUpHandler(e){
        		if(e.keycode == 87){
        			wPressed = false;
        		}
        		if(e.keycode == 65){
        			aPressed = false;
        		}
        		if(e.keycode == 83){
        			sPressed = false;
        		}
        		if(e.keycode == 68){
        			dPressed = false;
        		}
        	}
			function initDrawGround(){
        		ctx.beginPath();
        		ctx.rect(xGround, yGround, 150, 50);
        		ctx.fillStyle = "#32CD32";
        		ctx.fill();
        		ctx.closePath();
        		setInterval(drawGround, 1)
        	}
        	function drawGround(){
        		xGround = xGround + 50;
        		ctx.beginPath();
        		ctx.rect(xGround, yGround, 150, 50);
        		ctx.fillStyle = "#32CD32";
        		ctx.fill();
        		ctx.closePath();
        	}
        	function initDrawPlayer(){
        		ctx.beginPath();
        		ctx.rect(initXPlayer, initYPlayer, 50, 50);
        		ctx.fillStyle = "#ADD8E6";
        		ctx.fill();
        		ctx.closePath();
        	}
          function drawPlayer(){
            ctx.beginPath();
            ctx.rect(XPlayer, YPlayer, 50, 50);
            ctx.fillStyle = "#ADD8E6";
            ctx.fill();
            ctx.closePath();
          }
        	function init(){
        		initDrawGround();
        		initDrawPlayer();
        	}
          function main(){
            if(aPressed){
              XPlayer = XPlayer - 50;
            }
            else if(dPressed){
              XPlayer = XPlayer + 50;
            }
            if(XPlayer >= 80){
              XPlayer = XPlayer
            }
            else if(XPlayer <= 0){
              XPlayer = XPlayer + 20;
            }
          }
        	init();
          setInterval(main, 10);
        </script>
    </body>
</html>
